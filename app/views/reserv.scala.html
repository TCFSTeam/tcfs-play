@(user: UserTCFS, reservations: java.util.List[Reservation])

@main(user) {
    <link rel="stylesheet" media="screen"
    href="https://cdn.rawgit.com/Eonasdan/bootstrap-datetimepicker/d004434a5ff76e7b97c8b07c01f34ca69e635d97/build/css/bootstrap-datetimepicker.css"
    xmlns="http://www.w3.org/1999/html">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.js" type="text/javascript"></script>
    <script src="https://cdn.rawgit.com/Eonasdan/bootstrap-datetimepicker/d004434a5ff76e7b97c8b07c01f34ca69e635d97/src/js/bootstrap-datetimepicker.js" type="text/javascript"></script>
    <div class="row">
        <div class="col-md-5">
            <h2>Reserve table</h2>
            <div class="row"><div id="datetimepicker12"></div></div>
            <div class="row">
                <span><h3>TableTCFS</h3></span>
                    <div class="btn-group" role="group" aria-label="...">
                    @for(i <- 1 to models.TableTCFS.findAllCount()) {
                        <button type="button" class="btn btn-default" id="table@i" value="@i">@i</button>
                    }
                    </div>
            </div>
            <div class="row">
                <div class="row"> <div class="col-md-4"><span><h3>Client name</h3></span>
                    <input type="text" id="name" class="form-control" placeholder="Name"></div>
                </div>
            </div>
        </div>
        <div class="col-md-7">
            <h2>List of reservatios</h2>
            @if(reservations != null){
                <table id="reservations" class="table table-hover disabled">
                    <thead>
                        <th>ID</th>
                        <th>Created</th>
                        <th>Reservator</th>
                    </thead>
                    <tbody>
                    @for(reservation <- reservations) {
                        <tr >
                            <td>@reservation.id</td>
                            <td>@helpers.DateTimeHelper.getDateTimeInAgoFormat(reservation.createdAt)</td>
                            <td>@reservation.reservator</td>
                        </tr>
                    }
                    </tbody>
                </table>
            }
        </div>
        </div>

        }
<script type="text/javascript">
        $(function () {
            $('#datetimepicker12').datetimepicker({
                inline: true,
                sideBySide: true
            });
        });
        $(document).ready(function() {

        $('#reservations tr').click(function() {
                var reservId = $(this).find("td").eq(0).html();
                var tablesStatistic =  "/getreservation/"+reservId;
                $.getJSON( tablesStatistic )
                  .done(function( json ) {
                    $("#name").val(json.reservator);
                    console.log( "JSON Data: " + json.reservator );
                  })
                  .fail(function( jqxhr, textStatus, error ) {
                    var err = textStatus + ", " + error;
                    alert("Request Failed: " + err)
                    console.log( "Request Failed: " + err );
                });
            });
        });
</script>