@(user: User, order: OrderTCFS)
@import models.User.MemberType
@main(user) {
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">Edit order №@order.id</h1>
    </div>
  </div>
  <div class="row-fluid">Table: @order.Table</div>
  <div class="row-fluid">Guests count: @order.guestsCount</div>
  <div class="row-fluid">Active time: @OrderTCFS.getActiveTime(order.id) minutes</div>
  <div class="row-fluid">Waiter: @User.findByEmail(order.Waiter).name</div>
  @if(order == null){
    <div class="row">
      <div class="col-lg-12">
        <h2 class="page-header">Order is empty</h2>
      </div>
    </div>
  }
  @if(order != null && order.items.length < 1){
    <div class="row">
      <div class="col-lg-12">
        <h2 class="page-header">Order does not have items</h2>
      </div>
    </div>
  }
  @if(order != null && order.items.length > 0){
    <div class="row">
      <div class="col-lg-12">
        <h2 class="page-header">Order items</h2>
      </div>
    </div>
    <table class="table table-hover">
      <thead>
        <th>ID</th>
        <th>Description</th>
        <th>Price</th>
        <th data-checkbox="true">Readiness</th>
        @if(user.memberType != MemberType.Сook || user.memberType != MemberType.Cashier) {
          <th>Delete</th>
        }
      </thead>
      <tbody>
      @for(orderItem <- order.items) {
        <tr @if(orderItem.isReady) {
          class="success" }>
          <td>@orderItem.id</td>
          <td>@orderItem.itemDescription</td>
          <td>@orderItem.itemPrice</td>
          <td><input type="checkbox" @if(user.memberType != MemberType.Сook) {
            disabled="true"
          } @if(orderItem.isReady) {
            checked="true" }>
          </td>
          @if(user.memberType != MemberType.Сook || user.memberType != MemberType.Cashier) {
            <td><a title="Remove"> <i class="fa fa-trash-o fa-lg"></i></a></td>
          }
        </tr>
      }
      </tbody>
    </table>
    <div class="row-fluid">
      <div class="span6 offset6"><h2 class="page-header">Amount: @OrderTCFS.getOrderCost(order.id).toString()$</h2></div>
    </div>
    @*<div class="row-fluid">
      <div class="span6 offset6"><div class="input-group pull-right">
        <div class="checkbox">
          <label>
            <input type="checkbox" id="isCorrectOrder"> Order is correct
          </label>
        </div>
        <button type="button" id="saveOrder" class="btn btn-default disabled">Save order</button>
        @if(user.memberType != MemberType.Сook){<button type="button" id="payOrder" class="btn btn-default disabled">Pay order</button>}
        <button type="button" class="btn btn-default">Cancel</button>
      </div></div>
      </div>*@

  }}
